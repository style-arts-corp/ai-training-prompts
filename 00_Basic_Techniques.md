# 00. プロンプトエンジニアリングの基礎技術

このドキュメントでは、生成AI（ChatGPT, Gemini, Claude等）から高品質な回答を引き出すための**基本の型**と**必須テクニック**をまとめています。
すべての業務プロンプトの基礎となりますので、まずはこの型をマスターしましょう。

---

## 1. 基本の型（The Golden Template）
指示出しに迷ったら、まずはこのテンプレートを使用してみてください。
「命令」「役割」「制約」「入力データ」を明確に分けることで、AIの誤解を防ぎ、精度の高い回答を得ることができます。

### 📋 コピペ用テンプレート
```text
あなたは {役割} です。
以下の {制約条件} と {入力データ} を元に、 {目的} を達成するための出力を行ってください。

# 制約条件
- 出力形式： {表形式 / 箇条書き / マークダウン etc}
- 対象読者： {初心者向け / 経営層向け / 専門家向け}
- 文字数： {400文字程度 etc}
- トーン＆マナー： {論理的に / 親しみやすく / 断定調で}

# 入力データ
{ここに要約したい文章や、分析したいデータを貼り付ける}
```
### サンプル
```
あなたは AI倫理の専門家 です。 
以下の 制約条件 と 入力データ を元に、AI倫理の主要な課題を解説し、組織が取るべき対策の方向性を達成するための出力を行ってください。

# 制約条件
- 出力形式： 箇条書き
- 対象読者： 経営層向け
- 文字数： 400文字程度
- トーン＆マナー： 論理的に

# 入力データ
AIの急速な発展に伴い、その社会実装における倫理的な懸念が拡大しています。特に「公平性・バイアス」、「透明性・説明責任」、そして「プライバシー・データ保護」の3つが主要な課題とされています。 公平性の問題は、訓練データに潜む偏見がAIの意思決定に反映され、特定の属性を持つ人々に対して差別的な結果をもたらすリスクです。 透明性の問題は、ディープラーニングなどの複雑なモデルが「ブラックボックス」化し、なぜその結論に至ったのかを人間が理解・説明できない点にあります。この説明不能性は、特に医療や司法といった重要な意思決定領域で大きな問題となります。 プライバシーの問題は、AIが大量の個人データを収集・分析することで、個人の行動や思考が過度に把握・予測される可能性、そしてそのデータ漏洩リスクです。 経営層は、これらのリスクを単なる技術的課題としてではなく、企業のレピュテーションと信頼性に関わる重大なガバナンス問題として捉え、リスクアセスメントと倫理ガイドラインの策定を急ぐ必要があります。
```
---

## 2. 役割の付与（Role Definition）
AIに「誰として振る舞うか」を定義します。単に職業を指定するだけでなく、「**どのような**(修飾語)」人物なのかを詳しく定義することで、回答の質（専門性や視座）が劇的に向上します。

### 💡 役割 = 「連体修飾語」+「職業名」
以下のリストを組み合わせて、最適な役割を定義してみましょう。

| 連体修飾語（Expertise） | 職業名（Role） |
| :--- | :--- |
| **ビジネス**<br>・世界一流の<br>・長年、経営者に寄り添った<br>・戦略的な<br>・ロジカルな思考を持つ | ・コンサルタント<br>・マーケター<br>・広報戦略家<br>・秘書<br>・営業マン |
| **クリエイティブ**<br>・イノベーティブな<br>・独創的な<br>・カンヌライオンズを受賞した<br>・人の心を動かす | ・コピーライター<br>・クリエイティブディレクター<br>・編集者<br>・デザイナー |
| **技術・専門**<br>・経験豊富な<br>・Pythonに精通した<br>・セキュリティ意識の高い<br>・アカデミックな | ・ITエンジニア<br>・データサイエンティスト<br>・研究者（学者）<br>・法務担当者 |

### プロンプト例
```text
「あなたは、世界一流のマッキンゼー出身の戦略コンサルタントです。」
```
```text
「あなたは、長年エンジニア採用に従事したベテランの人事担当者です。」
```

---

## 3. 思考の連鎖（Chain of Thought）
複雑な計算や論理的推論が必要なタスクにおいて、AIに「いきなり答え」を出させるのではなく、**考える手順**を踏ませるテクニックです。これにより、計算ミスや論理破綻（ハルシネーション）を防ぎます。

### Level 1: 基本の呪文
プロンプトの最後に以下の文言を追加するだけで、精度が向上します。

```text
ステップバイステップで考えてください。
```

### Level 2: 思考プロセスの明示
具体的な思考の手順（アルゴリズム）を指定します。

```text
# 出力プロセス
1. まず、提供されたデータの事実関係を整理してください。
2. 次に、問題の根本原因を「ボトルネック」の観点から分析してください。
3. 最後に、実現可能な解決策を3つ提案してください。

各ステップごとに考察ポイントを記述し、論理の飛躍がないか確認しながら出力してください。
```

### Level 3: 複雑な問題解決（DFS/BFS）
探索アルゴリズムのような思考法を指定し、網羅的な検討を促します。

```text
# 思考ステップ
- 複雑な問題をより扱いやすいサブ問題に分解する
- それぞれを解決して全体の問題を解決する
- すべての内容を統合し、具体的な戦略を練る

これらのステップは、深さ優先探索（DFS）や幅優先探索（BFS）などのアルゴリズムを模倣する形で、漏れなく検討してください。
```

---

## 4. 出力形式の指定（Output Formatting）
AIの回答を、人間が使いやすい形（そのまま資料に貼れる形）に整形させます。

### 📝 よく使うフォーマット指定

**A. 表形式（Markdown Table）**
比較検討や一覧作成には、以下が最適です。
```text
結果を以下のカラムを持つ表形式（Markdown）で出力してください。
| 項目名 | 重要度(1-5) | メリット | デメリット | 備考 |
```

**B. コードブロック**
プログラミングコードや、コピー＆ペースト用のテキストを出力する場合にはｍ以下を使用します。
```text
解説は不要です。コードのみをコードブロックで出力してください。
```

**C. 構造化テキスト**
論理構造を明確にするために、以下を指定します。
```text
結論を先に述べ（PREP法）、その後に詳細な理由を箇条書きの階層構造で記述してください。
```

---

## 5. Few-Shot（例示プロンプト）
「言葉で説明するより、例を見せたほうが早い」場合に有効です。
入力と出力の「例（ショット）」をいくつか与えることで、AIが期待する回答パターンを学習します。

### プロンプト例：専門用語の解説
```text
以下の例に倣って、入力されたIT用語を、小学生でもわかる言葉に言い換えてください。

例1：
入力：サーバー
出力：インターネット上の情報の保管庫のようなもの

例2：
入力：クラウド
出力：自分のパソコンではなく、インターネットの向こう側にある大きなコンピュータを使うこと

入力：API
```

---

## 6. 知識の参照（Context Injection）
AIが知らない社内情報や、特定のルールに基づいて回答させたい場合、その「知識」をプロンプト内に埋め込みます。

```text
以下の {知識} を参照・考察した上で、ユーザーからの {質問} に答えてください。
回答は必ず {知識} に基づいている必要があり、知識にないことは「情報がありません」と答えてください。

# 知識
（ここに社内規定、マニュアル、製品仕様書などのテキストを貼り付ける）
...

# 質問
（ユーザーの質問）
```
### サンプル
```
以下の {知識} を参照・考察した上で、ユーザーからの {質問} に答えてください。
回答は必ず {知識} に基づいている必要があり、知識にないことは「情報がありません」と答えてください。

# 知識
業務に使用する機器: 会社から貸与されたPCおよびスマートフォンのみを使用すること。私有PC（BYOD）での業務は厳禁とする。
ネットワーク接続: 業務を行う際は、必ず会社指定のVPNを経由すること。公共Wi-Fiやセキュリティ設定が不十分なフリーWi-Fiの使用は禁止とする。
情報管理:機密情報は、離席時も含め、他人の目に触れないよう画面ロックを徹底すること。
印刷は原則禁止とし、やむを得ず印刷する場合は、その日のうちにシュレッダーにかけること。
ソフトウェアの利用: 会社が許可した業務関連ソフトウェア以外をPCにインストールしたり、業務に使用したりしないこと。
インシデント報告: セキュリティ上の異変や、機器の紛失・盗難が発生した場合は、2時間以内に情報システム部へ報告すること。

# 質問
リモートワーク中に、自宅のプリンターで重要資料を印刷しました。この資料はどのように取り扱うべきですか？また、もしPCが盗難にあった場合、いつまでに報告すればよいでしょうか？
```
